#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ИспользуютсяУслугиИнкассации = ПолучитьФункциональнуюОпцию("упИспользуютсяУслугиИнкассации");
	Если ИспользуютсяУслугиИнкассации Тогда
		Элементы.ТипОперации.СписокВыбора.Добавить(Перечисления.упТипыОпераций.ВыемкаЦенностей);	
		Элементы.ТипОперации.СписокВыбора.Добавить(Перечисления.упТипыОпераций.ПередачаЦенностей);
	КонецЕсли;
		
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовФормы

&НаКлиенте
Процедура ТипГрузаНачалоВыбора(Элемент, ДанныеВыбора, СтандартнаяОбработка)
	СтандартнаяОбработка = Ложь;
	
	ВидГруза = ПредопределенноеЗначение("Перечисление.упВидыГрузов.Груз");
	Если Запись.ТипОперации = ПредопределенноеЗначение("Перечисление.упТипыОпераций.ВыемкаЦенностей")
			ИЛИ Запись.ТипОперации = ПредопределенноеЗначение("Перечисление.упТипыОпераций.ПередачаЦенностей") Тогда
		ВидГруза = ПредопределенноеЗначение("Перечисление.упВидыГрузов.ИнкассируемаяЦенность");
	КонецЕсли;
	
	сткОтбор	 = Новый Структура("ВидГруза", ВидГруза);
	сткПараметры = Новый Структура("Отбор", сткОтбор);
	
	ОткрытьФорму("Справочник.упТипыГрузов.Форма.ФормаВыбора", сткПараметры, Элемент);
КонецПроцедуры

#КонецОбласти

