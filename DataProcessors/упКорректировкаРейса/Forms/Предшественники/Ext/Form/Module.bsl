
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Маршрут = Параметры.Маршрут;
	ИдентификаторТочки = Параметры.ИдентификаторТочки;

	мсвСтрокаТочка = Маршрут.НайтиСтроки(Новый Структура("Идентификатор", ИдентификаторТочки));
	
	Если мсвСтрокаТочка.Количество() > 0 Тогда
		СтрокаТочка = мсвСтрокаТочка[0];
		
		ТекстЗаголовка	= Нстр("ru = 'Предшественники точки №%1(%2)'");
		ТекстЗаголовка = СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(ТекстЗаголовка, СтрокаТочка.НомерСтроки, СтрокаТочка.Адрес);
		ЭтаФорма.Заголовок = ТекстЗаголовка;
			
		Если ЗначениеЗаполнено(СтрокаТочка.Предшественники) Тогда
			
			мсвПредшественников = СтрРазделить(СтрокаТочка.Предшественники, ",");
			Для каждого ПредшественникИдентификатор Из мсвПредшественников Цикл
				
				мсвСтрокаТочка = Маршрут.НайтиСтроки(Новый Структура("Идентификатор", Новый УникальныйИдентификатор(ПредшественникИдентификатор)));
				
				Если мсвСтрокаТочка.Количество() > 0 Тогда
					СтрокаТочка = мсвСтрокаТочка[0];
					НоваяСтрока = Предшественники.Добавить();
					ЗаполнитьЗначенияСвойств(НоваяСтрока, СтрокаТочка);
				КонецЕсли;	
				
				Предшественники.Сортировать("НомерСтроки");
				
			КонецЦикла;
		КонецЕсли;
	КонецЕсли;
	
	
КонецПроцедуры
